(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98279,e=>{"use strict";var t=e.i(19256),n=e.i(29458);function r(e){return Math.round(100*e)/100}function l(e){return e.map(e=>({...e,value:e.value,originalValue:e.originalValue,children:e.children?l(e.children):void 0}))}function i(e,t){for(let n of e){if(n.id===t)return n;if(n.children){let e=i(n.children,t);if(e)return e}}return null}function c(e,t,n){let c=l(e),a=i(c,t);return a?(a.children&&a.children.length>0?!function(e,t){if(!e.children||0===e.children.length)return;let n=e.children.reduce((e,t)=>e+t.value,0);if(0===n)return;let l=0,i=e.children.length-1;e.children.forEach((e,c)=>{if(c===i)e.value=r(t-l);else{let i=r(e.value/n*t);e.value=i,l+=i}})}(a,n):a.value=n,!function e(t){for(let n of t)n.children&&n.children.length>0&&(e(n.children),n.value=n.children.reduce((e,t)=>e+t.value,0))}(c),c):e}function a({row:e,level:n,inputValue:l,onInputChange:i,onAllocationPct:c,onAllocationVal:a}){var d,o;let s=(d=e.value,0===(o=e.originalValue)?0:r((d-o)/o*100)),u=n>0?`${"  ".repeat(n)}-- `:"";return(0,t.jsxs)("tr",{className:"border-b border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50/50 dark:hover:bg-zinc-800/50",children:[(0,t.jsxs)("td",{className:"py-2.5 pr-4 pl-4 font-medium text-zinc-900 dark:text-zinc-100",children:[u,e.label]}),(0,t.jsx)("td",{className:"py-2.5 px-4 tabular-nums text-zinc-700 dark:text-zinc-300",children:e.value.toFixed(2)}),(0,t.jsx)("td",{className:"py-2.5 px-4",children:(0,t.jsx)("input",{type:"text",inputMode:"decimal",placeholder:"Value or %",value:l,onChange:e=>i(e.target.value),className:"w-28 rounded border border-zinc-300 bg-white px-2.5 py-1.5 text-sm text-zinc-900 placeholder:text-zinc-400 focus:border-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-500 dark:border-zinc-600 dark:bg-zinc-800 dark:text-zinc-100 dark:placeholder:text-zinc-500"})}),(0,t.jsx)("td",{className:"py-2.5 px-4",children:(0,t.jsx)("button",{type:"button",onClick:c,className:"rounded bg-amber-500 px-3 py-1.5 text-sm font-medium text-white hover:bg-amber-600 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 dark:focus:ring-offset-zinc-900",children:"Allocation %"})}),(0,t.jsx)("td",{className:"py-2.5 px-4",children:(0,t.jsx)("button",{type:"button",onClick:a,className:"rounded bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 dark:focus:ring-offset-zinc-900",children:"Allocation Val"})}),(0,t.jsxs)("td",{className:"py-2.5 px-4 tabular-nums text-zinc-600 dark:text-zinc-400",children:[s>=0?"+":"",s,"%"]})]})}function d({initialRows:e}){let[r,d]=(0,n.useState)(()=>l(e)),[o,s]=(0,n.useState)({}),u=(0,n.useMemo)(()=>(function e(t,n=0){let r=[];for(let l of t)r.push({row:l,level:n}),l.children&&l.children.length>0&&r.push(...e(l.children,n+1));return r})(r),[r]),x=(0,n.useMemo)(()=>r.reduce((e,t)=>e+t.value,0),[r]),h=(0,n.useCallback)(e=>o[e]??"",[o]),b=(0,n.useCallback)((e,t)=>{s(n=>({...n,[e]:t}))},[]),p=(0,n.useCallback)(e=>{let t=i(r,e);if(!t)return;let n=parseFloat(o[e]?.trim().replace(/%$/,"")??"");if(Number.isNaN(n))return;let l=t.value*(1+n/100);d(t=>c(t,e,l))},[r,o]),m=(0,n.useCallback)(e=>{let t=parseFloat(o[e]?.trim()??"");Number.isNaN(t)||d(n=>c(n,e,t))},[o]);return(0,t.jsx)("div",{className:"overflow-x-auto rounded-xl border border-zinc-200 bg-white shadow-sm dark:border-zinc-700 dark:bg-zinc-900",children:(0,t.jsxs)("table",{className:"w-full min-w-[720px] border-collapse text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-zinc-200 bg-zinc-100/80 dark:border-zinc-700 dark:bg-zinc-800/80",children:[(0,t.jsx)("th",{className:"py-3 pl-4 pr-4 font-semibold text-zinc-900 dark:text-zinc-100",children:"Label"}),(0,t.jsx)("th",{className:"py-3 px-4 font-semibold text-zinc-900 dark:text-zinc-100",children:"Value"}),(0,t.jsx)("th",{className:"py-3 px-4 font-semibold text-zinc-900 dark:text-zinc-100",children:"Input"}),(0,t.jsx)("th",{className:"py-3 px-4 font-semibold text-zinc-900 dark:text-zinc-100",children:"Allocation %"}),(0,t.jsx)("th",{className:"py-3 px-4 font-semibold text-zinc-900 dark:text-zinc-100",children:"Allocation Val"}),(0,t.jsx)("th",{className:"py-3 px-4 font-semibold text-zinc-900 dark:text-zinc-100",children:"Variance %"})]})}),(0,t.jsxs)("tbody",{children:[u.map(({row:e,level:n})=>(0,t.jsx)(a,{row:e,level:n,inputValue:h(e.id),onInputChange:t=>b(e.id,t),onAllocationPct:()=>p(e.id),onAllocationVal:()=>m(e.id)},e.id)),(0,t.jsxs)("tr",{className:"border-t-2 border-zinc-300 bg-zinc-100/60 font-semibold dark:border-zinc-600 dark:bg-zinc-800/60",children:[(0,t.jsx)("td",{className:"py-3 pl-4 pr-4 text-zinc-900 dark:text-zinc-100",children:"Grand Total"}),(0,t.jsx)("td",{className:"py-3 px-4 tabular-nums text-zinc-900 dark:text-zinc-100",children:x.toFixed(2)}),(0,t.jsx)("td",{colSpan:4,className:"py-3 px-4"})]})]})]})})}e.s(["HierarchicalTable",()=>d],98279)}]);